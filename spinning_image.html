<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spinning Image — Click to Speed Up</title>
  <style>
    html,body{height:100%;margin:0}
    body{
      background: #0d6efd; /* blue background */
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      color: #fff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .stage{width:320px;height:320px;display:flex;align-items:center;justify-content:center;position:relative}
    .rotator{width:260px;height:260px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(255,255,255,0.06);box-shadow:0 8px 30px rgba(0,0,0,0.2)}
    .image-wrap{width:200px;height:120px;display:flex;align-items:center;justify-content:center;cursor:pointer;touch-action:manipulation}
    .speed-readout{margin-top:18px;font-size:14px;opacity:.95}
    .hint{position:absolute;bottom:8px;left:8px;font-size:12px;opacity:.85}
    /* make svg crisp when rotating */
    svg{display:block;width:100%;height:100%;transform-origin:center center}
    @media (max-width:420px){.stage{width:260px;height:260px}.rotator{width:200px;height:200px}.image-wrap{width:150px;height:90px}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="rotator" id="rotator">
      <div class="image-wrap" id="imageWrap" title="Click repeatedly to speed up">
        <!-- Inline SVG 'hotdog' style icon (keeps this single-file and editable) -->
        <img id="spinIMG" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAAgACAYAAADg0fg2AAAQAElEQVR4Aez9abRsW3bXB87/2hFxzr2vUQcGUzQG25jGlAw2hYyL"+ "..." +"" style="width:100%;height:100%;object-fit:cover;"/>
      </div>
      <div class="hint">Click the hotdog — faster clicks add more spin</div>
    </div>
  </div>
  <div class="speed-readout" id="readout">Speed: 0°/s</div>
  <div class="speed-readout" id="spinCount">Spins: 0</div>
  <div class="speed-readout" id="scoreboard">Best: 0 spins</div>

  <script>
    (function(){
      const svg = document.getElementById('spinIMG');
      const wrap = document.getElementById('imageWrap');
      const readout = document.getElementById('readout');

      let angle = 0; // degrees
      let angularVelocity = 0; // degrees per second
      let lastTime = performance.now();

      let totalSpins = 0;
      let bestScore = 0;
      let lastAngle = 0; // for tracking full rotations

      // click speed logic
      let lastClick = 0;

      // tuning constants (feel free to tweak)
      const BOOST_FACTOR = 900; // how much a click can add (inversely proportional to interval)
      const MIN_INTERVAL = 40; // ms (clamp to avoid huge boosts when interval near 0)
      const MAX_BOOST = 4000; // max deg/s added on one click
      const FRICTION_PER_SECOND = 0.8; // how quickly rotation decays (per second)

      function animate(now){
        const dt = (now - lastTime) / 1000; // seconds
        lastTime = now;

        // apply angular velocity to angle
        angle += angularVelocity * dt;
        // track full rotations
        if (angle - lastAngle > 360) {}
        if (angle < lastAngle) {
          totalSpins++;
          document.getElementById('spinCount').textContent = `Spins: ${totalSpins}`;
          if (totalSpins > bestScore) {
            bestScore = totalSpins;
            document.getElementById('scoreboard').textContent = `Best: ${bestScore} spins`;
          }
        }
        lastAngle = angle;
        angle %= 360;

        svg.style.transform = `rotate(${angle}deg)`; = `rotate(${angle}deg)`;

        // update readout (rounded)
        readout.textContent = `Speed: ${Math.round(angularVelocity)}°/s`;

        requestAnimationFrame(animate);
      }

      // clicking increases speed based on how fast user clicks
      function onClick(e){
        const now = performance.now();
        const interval = now - lastClick || Infinity; // ms
        lastClick = now;

        // short intervals => big boosts
        const clamped = Math.max(interval, MIN_INTERVAL);
        const boost = Math.min(MAX_BOOST, BOOST_FACTOR / clamped * 100);

        // add boost in the direction of current spin (keep sign) — if stopped, choose positive
        const sign = (angularVelocity === 0) ? 1 : Math.sign(angularVelocity);
        angularVelocity += sign * boost;

        // tiny visual pop on click
        wrap.animate([
          { transform: 'scale(1)' },
          { transform: 'scale(0.96)' },
          { transform: 'scale(1)' }
        ], { duration: 220, easing: 'cubic-bezier(.2,.8,.2,1)' });
      }

      // also support pointerdown for better responsiveness on touch
      wrap.addEventListener('click', onClick);
      wrap.addEventListener('pointerdown', function(e){ /* prevent double-firing */ });

      // start animation
      requestAnimationFrame(animate);

      // helpful: reset speed on double-click
      wrap.addEventListener('dblclick', function(){ angularVelocity = 0; });

      // accessibility: space/enter when focused
      wrap.setAttribute('tabindex','0');
      wrap.addEventListener('keydown', (e)=>{ if(e.key === ' '|| e.key === 'Enter'){ e.preventDefault(); onClick(); } });

    })();
  </script>
</body>
</html>
